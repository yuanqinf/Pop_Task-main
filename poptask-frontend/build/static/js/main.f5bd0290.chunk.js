(this["webpackJsonpgoogle-calendar-clone"]=this["webpackJsonpgoogle-calendar-clone"]||[]).push([[0],{48:function(e,t,n){},64:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(25),s=n.n(a),o=(n(64),n(5)),l=n.n(o),i=n(11),u=n(2),d=n.p+"static/media/TaskLogoTemp.51888051.png",b=(n(48),n(4)),m=c.a.createContext({monthIndex:0,setMonthIndex:function(e){},smallCalendarMonth:0,setSmallCalendarMonth:function(e){},daySelected:null,setDaySelected:function(e){},showEventModal:!1,setShowEventModal:function(){},dispatchCalEvent:function(e){e.type,e.payload},savedEvents:[],selectedEvent:null,setSelectedEvent:function(){},setLabels:function(){},labels:[],updateLabel:function(){},filteredEvents:[],segmentSelected:null,setSegmentSelected:function(){},currentGroup:null,setCurrentGroup:function(){},currentUser:null,setCurrentUser:function(){},allGroupsInfo:[],setAllGroupsInfo:function(){},allUsers:[],setAllUsers:function(){},groupsRankInfo:[],setGroupsRankInfo:function(){}}),j=n(57),x=n.n(j),f=n(1);function p(){var e=Object(b.f)(),t=Object(r.useState)(),c=Object(u.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(),m=Object(u.a)(o,2),j=m[0],p=m[1],h=n(12);function g(){return h.get("/users?username=".concat(a)).then((function(e){return e.data[0].email}))}function O(e){return console.log("currently logging"),console.log(e),n(12).post("/rest-auth/login/",e).then((function(e){console.log("this is key: "),console.log(e.data.key),localStorage.setItem("Token",e.data.key)})).catch((function(e){console.log(e)}))}function v(){return(v=Object(i.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r={username:a,password:j},t.prev=2,t.next=5,O(r);case 5:return t.next=7,g().then((function(e){localStorage.setItem("UserEmail",e),console.log("this is email"),console.log(e)}));case 7:e("/homepage"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}var y=function(e){console.log(e);e.accesstoken,e.code;var t=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("http://localhost:8000/rest-auth/google/",{access_token:t,code:n});case 2:return r=e.sent,console.log(r),e.next=6,r.status;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return t};return Object(f.jsxs)("div",{className:"h-screen bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 pt-3 pl-3 pb-3",id:"body",children:[Object(f.jsxs)("div",{className:"text-center mt-12",children:[Object(f.jsx)("div",{className:"flex items-center justify-center",children:Object(f.jsx)("img",{src:d,alt:"calendar",className:"mb-1 mr-2 ml-1 w-20 h-20 inline-block mt-2 mb-8"})}),Object(f.jsx)("h2",{className:"text-4xl tracking-tight",children:"Sign in into your account"}),Object(f.jsxs)("span",{className:"text-sm",children:[" or ",Object(f.jsx)("a",{href:"/register",className:"text-blue-200 hover:text-blue-300",children:"register a new account"})]})]}),Object(f.jsx)("div",{className:"flex justify-center my-8 mx-4 md:mx-0",children:Object(f.jsx)("form",{onSubmit:function(e){return v.apply(this,arguments)},className:"w-full max-w-xl bg-white rounded-lg shadow-md p-6",children:Object(f.jsxs)("div",{className:"flex flex-wrap -mx-3 mb-6",children:[Object(f.jsxs)("div",{className:"w-full md:w-full px-3 mb-6",children:[Object(f.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"Password",children:"Username"}),Object(f.jsx)("input",{className:"appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none",required:!0,onChange:function(e){return s(e.target.value)}})]}),Object(f.jsxs)("div",{className:"w-full md:w-full px-3 mb-6",children:[Object(f.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"Password",children:"Password"}),Object(f.jsx)("input",{className:"appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none",type:"password",required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(f.jsxs)("div",{className:"w-full flex items-center justify-between px-3 mb-3 ",children:[Object(f.jsxs)("label",{htmlFor:"remember",className:"flex items-center w-1/2",children:[Object(f.jsx)("input",{type:"checkbox",name:"",id:"",className:"mr-1 bg-white shadow"}),Object(f.jsx)("span",{className:"text-sm text-gray-700 pt-1",children:"Remember Me"})]}),Object(f.jsx)("div",{className:"w-1/2 text-right",children:Object(f.jsx)("a",{href:"#",className:"text-blue-500 text-sm tracking-tight",children:"Forget your password?"})})]}),Object(f.jsx)("div",{className:"w-full md:w-full px-3 mb-6",children:Object(f.jsx)("button",{className:"appearance-none block w-full bg-blue-600 text-gray-100 font-bold border border-gray-200 rounded-lg py-3 px-3 leading-tight hover:bg-blue-500 focus:outline-none",type:"submit",children:"Sign in"})}),Object(f.jsx)("div",{className:"mx-auto -mb-6 pb-1",children:Object(f.jsx)("span",{className:"text-center text-xs text-gray-700",children:"or sign up with"})}),Object(f.jsxs)("div",{className:"flex items-center w-full mt-4",children:[Object(f.jsx)("div",{className:"w-full md:w-1/3 px-3 pt-4 mx-2 border-t border-gray-400"}),Object(f.jsx)("div",{className:"w-full md:w-32 px-8 pt-4 mx-2",children:Object(f.jsx)(x.a,{clientId:"810586372650-b4nsj2jid6rnln124vkq8k526kijl0e7.apps.googleusercontent.com",buttonText:"Google",onSuccess:y,isSignedIn:!0,onFailure:y})}),Object(f.jsx)("div",{className:"w-full md:w-1/3 px-3 pt-4 mx-2 border-t border-gray-400"})]})]})})})]})}var h=n(46),g=n.n(h);var O=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var c=g.a.trim(n[r]);if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}("csrftoken"),v=function(){return Object(f.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:O})};function y(e){e.storeToken;var t=Object(b.f)(),c=Object(r.useState)(),a=Object(u.a)(c,2),s=a[0],o=a[1],m=Object(r.useState)(),j=Object(u.a)(m,2),x=j[0],p=j[1],h=Object(r.useState)(),g=Object(u.a)(h,2),O=g[0],v=g[1],y=Object(r.useState)(),w=Object(u.a)(y,2),N=w[0],k=w[1],C=n(12);function S(){return C.get("/users?username=".concat(s)).then((function(e){var t=e.data;return localStorage.setItem("UserEmail",N),t[0].email}))}function E(e){return console.log("currently logging"),console.log(e),n(12).post("/rest-auth/login/",e).then((function(e){console.log("this is key: "),console.log(e.data.key),localStorage.setItem("Token",e.data.key)})).catch((function(e){console.log(e)}))}function M(e){return console.log("currently registering"),console.log(e),n(12).post("/rest-auth/registration/",e).then((function(e){console.log("sign up successfully!")})).catch((function(e){console.log(e)}))}function I(){return I=Object(i.a)(l.a.mark((function e(n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={username:s,password:x},c={username:s,email:N,password1:x,password2:O},e.prev=3,e.next=6,M(c);case 6:return e.next=8,E(r);case 8:return e.next=10,S().then((function(e){console.log("this is email"),console.log(e)}));case 10:t("/homepage"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),I.apply(this,arguments)}return Object(f.jsxs)("div",{className:"h-screen bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 pt-3 pl-3 pb-3",children:[Object(f.jsxs)("div",{className:"text-center mt-12",children:[Object(f.jsx)("div",{className:"flex items-center justify-center",children:Object(f.jsx)("img",{src:d,alt:"calendar",className:"mb-1 mr-2 ml-1 w-20 h-20 inline-block mt-2 mb-8"})}),Object(f.jsx)("h2",{className:"text-4xl tracking-tight",children:"Sign Up"})]}),Object(f.jsx)("div",{className:"flex justify-center my-8 mx-4 md:mx-0",children:Object(f.jsx)("form",{onSubmit:function(e){return I.apply(this,arguments)},className:"w-full max-w-xl bg-white rounded-lg shadow-md p-6",children:Object(f.jsxs)("div",{className:"flex flex-wrap -mx-3 mb-6",children:[Object(f.jsxs)("div",{className:"w-full md:w-full px-3 mb-6",children:[Object(f.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"Password",children:"E-mail"}),Object(f.jsx)("input",{className:"appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none",type:"email",required:!0,onChange:function(e){return k(e.target.value)}})]}),Object(f.jsxs)("div",{className:"w-full md:w-full px-3 mb-6",children:[Object(f.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"Password",children:"Username"}),Object(f.jsx)("input",{className:"appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none",type:"username",required:!0,onChange:function(e){return o(e.target.value)}})]}),Object(f.jsxs)("div",{className:"w-full md:w-full px-3 mb-6",children:[Object(f.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"Password",children:"Password"}),Object(f.jsx)("input",{className:"appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none",type:"password",required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(f.jsxs)("div",{className:"w-full md:w-full px-3 mb-6",children:[Object(f.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"Password",children:"Confirm"}),Object(f.jsx)("input",{className:"appearance-none block w-full bg-white text-gray-900 font-medium border border-gray-400 rounded-lg py-3 px-3 leading-tight focus:outline-none",type:"password",required:!0,onChange:function(e){return v(e.target.value)}})]}),Object(f.jsx)("div",{className:"w-full md:w-full px-3 mb-6",children:Object(f.jsx)("button",{className:"appearance-none block w-full bg-blue-600 text-gray-100 font-bold border border-gray-200 rounded-lg py-3 px-3 leading-tight hover:bg-blue-500 focus:outline-none focus:bg-white focus:border-gray-500",type:"submit",children:"Create Account"})}),Object(f.jsx)("div",{className:"mx-auto -mb-6 pb-1",children:Object(f.jsx)("span",{className:"text-center text-xs text-gray-700",children:"or sign up with"})}),Object(f.jsxs)("div",{className:"flex items-center w-full mt-4",children:[Object(f.jsx)("div",{className:"w-full md:w-1/3 px-3 pt-4 mx-2 border-t border-gray-400"}),Object(f.jsx)("div",{className:"w-full md:w-32 px-8 pt-4 mx-2",children:Object(f.jsx)("button",{className:"appearance-none flex items-center justify-center block w-full bg-gray-100 text-gray-700 shadow border border-gray-500 rounded-lg py-3 px-3 leading-tight hover:bg-gray-200 hover:text-gray-700 focus:outline-none",children:Object(f.jsx)("img",{src:"https://www.freepnglogos.com/uploads/google-logo-png/google-logo-png-webinar-optimizing-for-success-google-business-webinar-13.png",alt:"calendar",className:"w-8 h-8 inline-block"})})}),Object(f.jsx)("div",{className:"w-full md:w-1/3 px-3 pt-4 mx-2 border-t border-gray-400"})]})]})})})]})}var w=n(6),N=n.n(w);function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N()().month();e=Math.floor(e);var t=N()().year(),n=N()(new Date(t,e,1)).day(),r=0-n,c=new Array(5).fill([]).map((function(){return new Array(7).fill(null).map((function(){return r++,N()(new Date(t,e,r))}))}));return c}function C(){var e=Object(r.useContext)(m),t=e.monthIndex,n=e.setMonthIndex;function c(){n(t===N()().month()?t+Math.random():N()().month())}return Object(r.useEffect)((function(){c()}),[]),Object(f.jsxs)("header",{className:"px-4 py-2 flex items-center",children:[Object(f.jsx)("h1",{className:"mr-10 text-xl text-gray-500 fond-bold",children:"Task View"}),Object(f.jsx)("button",{onClick:c,className:"border rounded py-1.5 px-4 mr-5",children:"Today"}),Object(f.jsx)("button",{onClick:function(){n(t-1)},children:Object(f.jsx)("span",{className:"material-icons-outlined cursor-pointer text-gray-600 mx-2",children:"chevron_left"})}),Object(f.jsx)("button",{onClick:function(){n(t+1)},children:Object(f.jsx)("span",{className:"material-icons-outlined cursor-pointer text-gray-600 mx-2",children:"chevron_right"})}),Object(f.jsx)("h2",{className:"ml-4 text-xl text-gray-500 font-bold",children:N()(new Date(N()().year(),t)).format("MMMM YYYY")})]})}function S(e){var t=e.day,c=e.rowIdx,a=Object(r.useState)([]),s=Object(u.a)(a,2),o=s[0],d=s[1],b=Object(r.useContext)(m),j=b.setDaySelected,x=b.setShowEventModal,p=b.setSelectedEvent,h=b.currentGroup,g=b.showEventModal,O="Token ".concat(localStorage.getItem("Token"));function v(){return console.log("get task!"),n(12).get("/tasks/",{headers:{Authorization:O}}).then((function(e){return e.data}))}function y(){return(y=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v().then((function(e){var t=e.sort((function(e,t){return e.deadline-t.deadline})).filter((function(e){return e.assigned_to===localStorage.getItem("UserEmail")&&e.group===h&&null===e.done_at}));d(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){if(Number(t.format("MM"))<Number(N()().format("MM")))return Object(f.jsx)("div",{className:"bg-black p-1 mt-2 m-26 rounded mb-1"});if(t.diff(N()(),"day")>=7)return Object(f.jsx)("div",{className:"bg-blue-500 p-1 mt-2 m-0 rounded mb-1"});if(Number(t.format("DD"))<Number(N()().format("DD"))&&Number(t.format("MM"))===Number(N()().format("MM")))return Object(f.jsx)("div",{className:"bg-black p-1 mt-2 m-26 rounded mb-1"});var e=Number(t.format("DD"))-Number(N()().format("DD"));return 0===e?Object(f.jsx)("div",{className:"bg-red-500 p-1 mt-2 m-26 rounded mb-1"}):1===e||N()().diff(t,"month",!0)<0&&-29==e?Object(f.jsx)("div",{className:"bg-red-500 p-1 mt-2 m-24 rounded mb-1"}):2===e||N()().diff(t,"month",!0)<0&&-28==e?Object(f.jsx)("div",{className:"bg-red-500 p-1 mt-2 m-20 rounded mb-1"}):3===e||N()().diff(t,"month",!0)<0&&-27==e?Object(f.jsx)("div",{className:"bg-yellow-500 p-1 mt-2 m-16 rounded mb-1"}):4===e||N()().diff(t,"month",!0)<0&&-26==e?Object(f.jsx)("div",{className:"bg-yellow-500 p-1 mt-2 m-12 rounded mb-1"}):5===e||N()().diff(t,"month",!0)<0&&-25==e?Object(f.jsx)("div",{className:"bg-yellow-500 p-1 mt-2 m-8 rounded mb-1"}):Object(f.jsx)("div",{className:"bg-green-500 p-1 mt-2 m-4 rounded mb-1"})}return Object(r.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[h,g]),Object(f.jsxs)("div",{className:"border border-blue-400 border-opacity-25 px-1",children:[Object(f.jsxs)("header",{className:"flex flex-col items-center",children:[0===c&&Object(f.jsx)("p",{className:"text-sm mt-1",children:t.format("ddd").toUpperCase()}),Object(f.jsx)("p",{className:"text-sm p-1 my-1 text-center  ".concat(t.format("DD-MM-YY")===N()().format("DD-MM-YY")?"bg-blue-600 text-white rounded-full w-7":""),children:t.format("DD")})]}),Object(f.jsx)("div",{className:"flex-1 cursor-pointer pl-2",onClick:function(){j(t),x(!0)},children:o.map((function(e,n){return t.format("YYYY-MM-DD")===e.deadline.split(" ")[0]&&Object(f.jsxs)("div",{onClick:function(){return p(e)},className:"bg-blue-200 p-1 mr-3 text-gray-600 text-sm rounded mb-1 truncate text-center",children:[e.name,w()]},n)}))})]})}function E(e){var t=e.month;return Object(f.jsx)("div",{className:"flex-1 grid grid-cols-7 grid-rows-5",children:t.map((function(e,t){return Object(f.jsx)(c.a.Fragment,{children:e.map((function(e,n){return Object(f.jsx)(S,{day:e,rowIdx:t},n)}))},t)}))})}function M(){var e=Object(r.useState)(N()().month()),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(k()),o=Object(u.a)(s,2),l=o[0],i=o[1];Object(r.useEffect)((function(){i(k(n))}),[n]);var d=Object(r.useContext)(m),b=d.monthIndex,j=d.setSmallCalendarMonth,x=d.setDaySelected,p=d.daySelected;function h(e){var t="DD-MM-YY",n=N()().format(t),r=e.format(t),c=p&&p.format(t);return n===r?"bg-blue-500 rounded-full text-white":r===c?"bg-blue-100 rounded-full text-blue-600 font-bold":""}return Object(r.useEffect)((function(){a(b)}),[b]),Object(f.jsxs)("div",{className:"mt-3 bg-blue-300 rounded-lg",children:[Object(f.jsxs)("header",{className:"m-2 flex justify-between",children:[Object(f.jsx)("p",{className:"text-gray-500 font-bold",children:N()(new Date(N()().year(),n)).format("MMMM YYYY")}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){a(n-1)},children:Object(f.jsx)("span",{className:"material-icons-outlined cursor-pointer text-gray-600 mx-2",children:"chevron_left"})}),Object(f.jsx)("button",{onClick:function(){a(n+1)},children:Object(f.jsx)("span",{className:"material-icons-outlined cursor-pointer text-gray-600 mx-2",children:"chevron_right"})})]})]}),Object(f.jsxs)("div",{className:"m-1 grid grid-cols-7 grid-rows-6",children:[l[0].map((function(e,t){return Object(f.jsx)("span",{className:"text-sm py-1 text-center",children:e.format("dd").charAt(0)},t)})),l.map((function(e,t){return Object(f.jsx)(c.a.Fragment,{children:e.map((function(e,t){return Object(f.jsx)("button",{onClick:function(){j(n),x(e)},className:"py-1 w-full ".concat(h(e)),children:Object(f.jsx)("span",{className:"text-sm",children:e.format("D")})},t)}))},t)}))]})]})}function I(){var e=Object(r.useContext)(m),t=e.setShowEventModal,c=e.daySelected,a=e.setDaySelected,s=e.selectedEvent,o=e.segmentSelected,l=e.currentGroup,i=(e.currentUser,e.setCurrentUser,Object(r.useState)(s?s.name:"")),d=Object(u.a)(i,2),b=d[0],j=d[1],x=Object(r.useState)(s?s.description:""),p=Object(u.a)(x,2),h=p[0],g=p[1],O=Object(r.useState)(s?s.score:100),v=Object(u.a)(O,2),y=v[0],w=v[1],k="Token ".concat(localStorage.getItem("Token")),C=Object(r.useState)(!1),S=Object(u.a)(C,2),E=S[0],I=S[1];return Object(f.jsx)("div",{className:"h-screen w-full fixed left-0 top-0 flex justify-center items-center",children:Object(f.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl w-1/4",children:[Object(f.jsxs)("header",{className:"bg-gray-100 px-4 py-2 flex justify-between items-center",children:[Object(f.jsx)("span",{className:"material-icons-outlined text-gray-400",children:"drag_handle"}),Object(f.jsxs)("div",{children:[s?Object(f.jsx)("span",{onClick:function(){!function(e){console.log("Delete a task"),n(12).delete("/tasks/".concat(e.id,"/"),{headers:{Authorization:k}}).then((function(){t(!1)})).catch((function(e){console.log(e)}))}(s),t(!1),a(N()())},className:"material-icons-outlined text-gray-400 cursor-pointer",children:"delete"}):"",Object(f.jsx)("button",{onClick:function(){t(!1),a(N()())},children:Object(f.jsx)("span",{className:"material-icons-outlined text-gray-400",children:"close"})})]})]}),Object(f.jsx)("div",{className:"p-3",children:Object(f.jsxs)("div",{className:"grid grid-cols-1/5 items-end gap-y-7",children:[Object(f.jsx)("div",{}),"TaskPool"===o?Object(f.jsx)("input",{type:"text",name:"name",placeholder:"Add Name",value:b,required:!0,className:"pt-3 border-0 text-gray-600 text-xl font-semibold pb-2 w-full border-b-2 border-gray-200 focus:outline-none focus:ring-0 focus:border-blue-500",onChange:function(e){return j(e.target.value)}}):Object(f.jsx)("input",{type:"text",name:"name",value:b,readOnly:!0,className:"pt-3 border-0 text-gray-600 text-xl font-semibold pb-2 w-full border-b-2 border-gray-200 focus:outline-none focus:ring-0 focus:border-blue-500"}),Object(f.jsx)("span",{className:"material-icons-outlined text-gray-400",children:"event"}),Object(f.jsxs)("span",{children:["TaskPool"===o?Object(f.jsx)("p",{className:"cursor-pointer",onClick:function(){I(!E)},children:c.format("dddd, MMMM DD")}):Object(f.jsx)("p",{className:"",children:c.format("dddd, MMMM DD")}),Object(f.jsx)("span",{className:"absolute",children:E&&Object(f.jsx)(M,{})})]}),Object(f.jsx)("span",{className:"material-icons-outlined text-gray-400",children:"segment"}),"TaskPool"===o?Object(f.jsx)("input",{type:"text",name:"description",placeholder:"description...",value:h,required:!0,autoComplete:"off",className:"pt-3 border-0 text-gray-600 pb-2 w-full border-b-2 border-gray-200 focus:outline-none focus:ring-0 focus:border-blue-500",onChange:function(e){return g(e.target.value)}}):Object(f.jsx)("input",{type:"text",name:"description",placeholder:"description...",value:h,readOnly:!0,className:"pt-3 border-0 text-gray-600 pb-2 w-full border-b-2 border-gray-200 focus:outline-none focus:ring-0 focus:border-blue-500"}),Object(f.jsx)("span",{className:"material-icons-outlined text-gray-400",children:"sports_score"}),"TaskPool"===o?Object(f.jsx)("input",{type:"number",name:"score",placeholder:"0",value:y,required:!0,className:"pt-3 border-0 text-gray-600 pb-2 w-full border-b-2 border-gray-200 focus:outline-none focus:ring-0 focus:border-blue-500",onChange:function(e){return w(e.target.value)}}):Object(f.jsx)("input",{type:"number",name:"score",placeholder:"score...",value:y,readOnly:!0,className:"pt-3 border-0 text-gray-600 pb-2 w-full border-b-2 border-gray-200 focus:outline-none focus:ring-0 focus:border-blue-500"})]})}),Object(f.jsx)("footer",{className:"flex justify-end border-t p-3 mt-5",children:"TaskPool"===o?Object(f.jsx)("button",{onClick:function(){!function(){console.log("creating new task");var e={group:l,name:""===b?"Untitled Task":b,description:""===h?"......":h,score:0===Number(y)?0:Number(y),deadline:c.format("YYYY-MM-DD HH:mm:ss")},r=n(12);s?r.put("/tasks/".concat(s.id,"/"),e,{headers:{Authorization:k}}).then((function(){t(!1)})).catch((function(e){console.log(e)})):r.post("/tasks/",e,{headers:{Authorization:k}}).then((function(){t(!1)})).catch((function(e){console.log(e)}))}(),a(N()())},className:"bg-blue-500 hover:bg-blue-600 px-6 py-2 rounded text-white",children:"Save"}):Object(f.jsx)("button",{onClick:function(){!function(){console.log("creating new task");var e={score:s.score,done_at:N()().format("YYYY-MM-DD HH:mm:ss")};n(12).put("/tasks/".concat(s.id,"/"),e,{headers:{Authorization:k}}).then((function(){t(!1)})).catch((function(e){console.log(e)}))}(),a(N()())},className:"bg-blue-500 hover:bg-blue-600 px-6 py-2 rounded text-white",children:"Done"})})]})})}function T(){var e=Object(r.useState)(k()),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(r.useContext)(m),o=s.monthIndex,l=s.showEventModal;return Object(r.useEffect)((function(){a(k(o))}),[o]),Object(f.jsxs)(c.a.Fragment,{children:[l&&Object(f.jsx)(I,{}),Object(f.jsxs)("div",{className:"h-screen flex flex-col ",children:[Object(f.jsx)(C,{}),Object(f.jsx)("div",{className:"flex flex-1 bg-primary bg-opacity-50 sm:rounded-lg",children:Object(f.jsx)(E,{month:n})})]})]})}var D=n(95),A=n(96);function U(){var e=Object(r.useContext)(m).setSegmentSelected;return Object(f.jsx)(D.a,{fixed:"top",children:Object(f.jsxs)(A.a,{className:"ml-auto",children:[Object(f.jsxs)(D.a.Brand,{href:"#home",children:[Object(f.jsx)("img",{src:d,alt:"calendar",className:"mb-1 mr-2 ml-1 w-12 h-12 inline-block"}),Object(f.jsx)("h1",{className:"mt-2 mr-10 text-3xl text-gray-200 font-mono inline-block font-medium",children:"PopTask"})]}),Object(f.jsx)("button",{onClick:function(){e("TaskView")},className:"bg-blue-400 hover:bg-blue-600 ml-12 mr-12 px-6 py-2 rounded text-white",children:"Task View"}),Object(f.jsx)("button",{onClick:function(){e("TaskPool")},className:"bg-purple-400 hover:bg-purple-600 ml-12 mr-12 px-6 py-2 rounded text-white float-center",children:"Task Pool"}),Object(f.jsx)("button",{onClick:function(){e("Leaderboard")},className:"bg-red-400 hover:bg-red-500 ml-12 mr-12 px-6 py-2 rounded text-white float-center",children:"LeaderBoard"})]})})}n(90);var _=n(30),P=n(97),Y=n(98);function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function z(){var e=Object(b.f)(),t=Object(r.useState)(""),c=Object(u.a)(t,2),a=c[0],s=c[1],o=n(12);function d(){return o.get("/users/".concat(localStorage.getItem("UserEmail"),"/")).then((function(e){return e.data}))}function m(){return(m=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==localStorage.getItem("Token")){t.next=5;break}console.log("redirect!!!!"),e("/login"),t.next=7;break;case 5:return t.next=7,d().then((function(e){s(e.username)}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),Object(f.jsx)("div",{className:"flex flex-col justify-between items-center h-full pb-6 px-6 py-4 w-full space-y-32",children:Object(f.jsxs)("div",{className:" flex justify-between items-center w-full",children:[Object(f.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:"h-10 w-10 rounded-full",src:"https://yorktonrentals.com/wp-content/uploads/2017/06/usericon.png",alt:"avatar"})}),Object(f.jsxs)("div",{className:"flex justify-start flex-col items-start",children:[Object(f.jsx)("p",{className:"text-sm leading-5 text-white",children:a}),Object(f.jsx)("p",{className:"text-xs leading-3 text-gray-300",children:localStorage.getItem("UserEmail")})]})]}),Object(f.jsxs)(P.a,{as:"div",className:"ml-1 relative inline-block text-left",children:[Object(f.jsx)("div",{children:Object(f.jsx)(P.a.Button,{children:Object(f.jsxs)("svg",{className:"cursor-pointer",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("path",{d:"M10.325 4.317C10.751 2.561 13.249 2.561 13.675 4.317C13.7389 4.5808 13.8642 4.82578 14.0407 5.032C14.2172 5.23822 14.4399 5.39985 14.6907 5.50375C14.9414 5.60764 15.2132 5.65085 15.4838 5.62987C15.7544 5.60889 16.0162 5.5243 16.248 5.383C17.791 4.443 19.558 6.209 18.618 7.753C18.4769 7.98466 18.3924 8.24634 18.3715 8.51677C18.3506 8.78721 18.3938 9.05877 18.4975 9.30938C18.6013 9.55999 18.7627 9.78258 18.9687 9.95905C19.1747 10.1355 19.4194 10.2609 19.683 10.325C21.439 10.751 21.439 13.249 19.683 13.675C19.4192 13.7389 19.1742 13.8642 18.968 14.0407C18.7618 14.2172 18.6001 14.4399 18.4963 14.6907C18.3924 14.9414 18.3491 15.2132 18.3701 15.4838C18.3911 15.7544 18.4757 16.0162 18.617 16.248C19.557 17.791 17.791 19.558 16.247 18.618C16.0153 18.4769 15.7537 18.3924 15.4832 18.3715C15.2128 18.3506 14.9412 18.3938 14.6906 18.4975C14.44 18.6013 14.2174 18.7627 14.0409 18.9687C13.8645 19.1747 13.7391 19.4194 13.675 19.683C13.249 21.439 10.751 21.439 10.325 19.683C10.2611 19.4192 10.1358 19.1742 9.95929 18.968C9.7828 18.7618 9.56011 18.6001 9.30935 18.4963C9.05859 18.3924 8.78683 18.3491 8.51621 18.3701C8.24559 18.3911 7.98375 18.4757 7.752 18.617C6.209 19.557 4.442 17.791 5.382 16.247C5.5231 16.0153 5.60755 15.7537 5.62848 15.4832C5.64942 15.2128 5.60624 14.9412 5.50247 14.6906C5.3987 14.44 5.23726 14.2174 5.03127 14.0409C4.82529 13.8645 4.58056 13.7391 4.317 13.675C2.561 13.249 2.561 10.751 4.317 10.325C4.5808 10.2611 4.82578 10.1358 5.032 9.95929C5.23822 9.7828 5.39985 9.56011 5.50375 9.30935C5.60764 9.05859 5.65085 8.78683 5.62987 8.51621C5.60889 8.24559 5.5243 7.98375 5.383 7.752C4.443 6.209 6.209 4.442 7.753 5.382C8.753 5.99 10.049 5.452 10.325 4.317Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(f.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),Object(f.jsx)(Y.a,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(f.jsx)(P.a.Items,{className:"origin-top-right absolute mt-2 w-32 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(f.jsx)("div",{className:"py-1",children:Object(f.jsx)(P.a.Item,{children:function(t){var n=t.active;return Object(f.jsxs)("button",{onClick:function(){return console.log("logout!!"),o.post("/rest-auth/logout/").then((function(){localStorage.clear()})).catch((function(e){console.log(e)})),void e("/login")},className:G(n?"bg-gray-100 text-gray-900":"text-gray-700","text-center px-4 py-2 text-sm w-32"),children:["Sign out",Object(f.jsx)(v,{})]})}})})})})]})]})})}function F(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1],o=Object(r.useState)([]),d=Object(u.a)(o,2),b=d[0],j=d[1],x=Object(r.useState)(""),p=Object(u.a)(x,2),h=p[0],g=p[1],O=Object(r.useState)(""),v=Object(u.a)(O,2),y=v[0],w=v[1],N=Object(r.useState)(!0),k=Object(u.a)(N,2),C=k[0],S=k[1],E=Object(r.useState)(500),M=Object(u.a)(E,2),I=M[0],T=(M[1],"Token ".concat(localStorage.getItem("Token"))),D=localStorage.getItem("UserName"),A=Object(r.useContext)(m),U=A.setCurrentGroup,P=A.currentUser,Y=A.setCurrentUser,G=A.allUsers,F=A.setAllUsers,R=A.setAllGroupsInfo;function L(){return n(12).get("/groups/",{headers:{Authorization:T}}).then((function(e){var t=e.data;return R(t),t}))}function q(){return B.apply(this,arguments)}function B(){return(B=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,V().then((function(e){F(e);for(var n=0;n<e.length;n++)e[n].email===localStorage.getItem("UserEmail")&&(Y(e[n]),t=e[n])}));case 4:return e.next=6,L().then((function(e){if(s(e),C){var n=e.filter((function(e){return t.mygroups.includes(e.name)}));J(0,n[0]),S(!1)}}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var J=function(e,t){if(void 0!==t){var n=new Array(a.length).fill(!1);n[e]=!n[e],U(t.name),j(n)}};function V(){return n(12).get("/users",{headers:{Authorization:T}}).then((function(e){return e.data}))}function H(e){return console.log("remove myself"),n(12).post("/groups/".concat(encodeURI(e),"/leave_group/"),{},{headers:{Authorization:T}}).then((function(){console.log("removed")})).catch((function(e){console.log(e)}))}function W(e){return n(12).get("/tasks/",{headers:{Authorization:T}}).then((function(e){return console.log("get all tasks"),e.data})).catch((function(e){console.log(e)}))}function Z(e){return n(12).delete("/tasks/".concat(e,"/"),{headers:{Authorization:T}}).then((function(e){return console.log("deleted task"),e})).catch((function(e){console.log(e)}))}function K(){return(K=Object(i.a)(l.a.mark((function e(t){var n,r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete group"),e.prev=1,e.next=4,W();case 4:n=e.sent,r=0;case 6:if(!(r<n.length)){e.next=16;break}if((c=n[r]).group!==t){e.next=13;break}return e.next=11,Z(c.id);case 11:a=e.sent,console.log(a);case 13:r++,e.next=6;break;case 16:return e.next=18,H(t);case 18:return e.abrupt("return",e.sent);case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}return function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){q()}),I),Object(r.useEffect)((function(){q()}),[h,y]),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{id:"Main",className:"flex items-start h-full  w-full sm:w-80 bg-blue-500 flex-col",children:[a.filter((function(e){return P.mygroups.includes(e.name)})).map((function(e,t){return Object(f.jsxs)("div",{className:"flex flex-col justify-start items-center px-6 border-b border-white-600 w-full",children:[Object(f.jsxs)("button",{onClick:function(){return J(t,e)},className:"focus:outline-none hover:text-blue-200 ".concat(b[t]?"text-blue-800":"text-white"," flex justify-between items-center w-full py-5 space-x-12"),children:[Object(f.jsx)("p",{className:"text-base leading-4 font-semibold",children:e.name}),Object(f.jsx)("svg",{id:"icon1",className:"".concat(b[t]?"":"rotate-180"," transform duration-100"),width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("path",{d:"M18 15L12 9L6 15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),Object(f.jsx)("div",{id:"menu1",className:"".concat(b[t]?"flex":"hidden"," justify-start  flex-col w-full md:w-auto items-start pb-1 "),children:e.members.map((function(t,r){return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsxs)("div",{className:"flex justify-start items-center space-x-6 rounded px-3 py-2  w-full md:w-52",children:[t===e.manager?Object(f.jsx)("p",{className:"text-sm leading-4 text-green-400 text-base font-bold",children:t}):Object(f.jsx)("p",{className:"text-sm leading-4 text-white",children:t}),P.email!==t&&P.email===e.manager?Object(f.jsx)("span",{onClick:function(){return function(e,t,r){console.log("remove a member");var c=t.filter((function(t){return t!==e}));return n(12).put("/groups/".concat(encodeURI(r),"/"),{members:c},{headers:{Authorization:T}}).then((function(){console.log("removed")})).catch((function(e){console.log(e)}))}(t,e.members,e.name)},className:"material-icons-outlined cursor-pointer text-blue-200 hover:bg-red-500 rounded",children:"person_remove"}):"",P.email===t&&P.email!==e.manager?Object(f.jsx)("button",{className:"bg-blue-400 hover:bg-red-500 ml-12 mr-12 px-6 py-1 rounded text-white text-sm",onClick:function(){return H(e.name)},children:"Exit"}):""]},r),P.email===t&&P.email===e.manager?Object(f.jsxs)("div",{className:"pt-2 relative text-gray-600 mt-2 mb-2",children:[Object(f.jsx)("input",{className:"border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none",type:"search",name:"search",placeholder:"Enter email to invite",value:h,onChange:function(e){return g(e.target.value)}}),Object(f.jsx)("div",{className:"absolute right-0 top-0 mt-4 mr-10",children:Object(f.jsx)("span",{className:"material-icons-outlined",children:"search"})}),G.filter((function(e){return e.email===h})).map((function(t,r){return Object(f.jsxs)("div",{className:"pt-2 relative mx-auto text-gray-600",children:[Object(f.jsx)("div",{className:"border-1 border-gray-300 bg-white h-10 px-4 pr-16 rounded-lg text-sm",children:Object(f.jsx)("p",{className:"pt-2 mt-2 mr-5",children:t.username})},r),Object(f.jsx)("button",{className:"absolute right-0 top-0 mt-6 mr-5",children:Object(f.jsx)("span",{onClick:function(){return function(e,t,r){if(console.log("invite a member"),D!==e.email){var c=[].concat(Object(_.a)(t),[e.email]);return n(12).put("/groups/".concat(encodeURI(r),"/"),{members:c},{headers:{Authorization:T}}).then((function(){console.log("added"),g("")})).catch((function(e){console.log(e)}))}}(t,e.members,e.name)},className:"material-icons-outlined hover:bg-blue-200 rounded cursor-pointer",children:"person_add"})})]},r)})),Object(f.jsx)("button",{className:"bg-blue-400 hover:bg-yellow-500 ml-12 mr-12 px-6 py-1 rounded text-white text-sm mt-3",onClick:function(){return function(e){return K.apply(this,arguments)}(e.name,P.email,e.members)},children:"Delete Group"})]}):""]},r)}))})]},t)})),Object(f.jsxs)("div",{className:"pt-2 relative text-gray-600 mt-2 mb-2 ml-8",children:[Object(f.jsx)("input",{className:"border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none",type:"text",name:"addGroup",placeholder:"Enter new group name",value:y,onChange:function(e){return w(e.target.value)}}),Object(f.jsx)("div",{className:"absolute right-0 top-0 mt-3 mr-5",children:Object(f.jsx)("span",{onClick:function(){return function(){if(console.log("creating new group"),""!==y)return n(12).post("/groups/",{name:y},{headers:{Authorization:T}}).then((function(){w("")})).catch((function(e){console.log(e)}))}()},className:"material-icons-outlined hover:bg-green-200 rounded cursor-pointer",children:"group_add"})})]}),Object(f.jsx)(z,{})]})})}function R(){return Object(f.jsx)(c.a.Fragment,{children:Object(f.jsx)(F,{})})}var L=n.p+"static/media/plus.8f3ab9f7.svg";function q(){var e=Object(r.useContext)(m).setShowEventModal;return Object(f.jsxs)("button",{onClick:function(){return e(!0)},className:"border p-1 rounded-full flex items-center shadow-md hover:shadow-2xl",children:[Object(f.jsx)("img",{src:L,alt:"create_event",className:"w-7 h-7"}),Object(f.jsx)("span",{className:"pl-3 pr-7",children:" Push Task "})]})}function B(){return Object(f.jsxs)("header",{className:"px-4 py-2 flex items-center",children:[Object(f.jsx)("h1",{className:"mr-10 text-xl text-gray-500 fond-bold",children:"Task Pool"}),Object(f.jsx)(q,{})]})}function J(e){var t=e.task,c=Object(r.useContext)(m),a=c.setShowEventModal,s=(c.selectedEvent,c.setSelectedEvent),o=c.currentGroup,l="Token ".concat(localStorage.getItem("Token")),i=localStorage.getItem("UserEmail");return Object(f.jsxs)("div",{className:"rounded-lg h-80 w-3/4 text-center bg-blue-300 px-6 py-2 m-10 shadow-md",children:[Object(f.jsx)("div",{className:"h-1 bg-".concat(t.label,"-200")}),Object(f.jsx)("span",{className:"material-icons-outlined text-black-400 cursor-pointer m-2",onClick:function(){a(!0),s(t)},children:"edit"}),Object(f.jsx)("p",{className:"break-words mt-2 font-sans text-xl text-gray-800 font-semibold",children:t.name}),Object(f.jsx)("p",{className:"break-words mt-5 font-sans text-lg text-gray-800 text-center font-medium",children:t.description}),Object(f.jsx)("p",{className:"mt-5 font-sans text-lg text-gray-800 text-center font-medium",children:"Score: ".concat(t.score)}),Object(f.jsx)("p",{className:"mt-5 font-sans text-lg text-gray-800 text-center font-medium",children:"Due By: ".concat(t.deadline.split(" ")[0])}),Object(f.jsx)("button",{className:"mt-5 bg-blue-500 hover:bg-blue-700 text-white font-medium py-2 px-4 border border-blue-700 rounded",onClick:function(){!function(){console.log("pop a new task");var e={group:o,name:t.name,description:t.description,score:Number(t.score),deadline:t.deadline,assigned_to:i};n(12).put("/tasks/".concat(t.id,"/"),e,{headers:{Authorization:l}}).then((function(){a(!1)})).catch((function(e){console.log(e)}))}()},children:"POP-IT"})]})}function V(){var e=Object(r.useContext)(m),t=e.currentGroup,c=e.showEventModal,a=Object(r.useState)([]),s=Object(u.a)(a,2),o=s[0],d=s[1],b=Object(r.useState)(500),j=Object(u.a)(b,2),x=j[0],p=(j[1],"Token ".concat(localStorage.getItem("Token")));function h(){return console.log("get task!"),n(12).get("/tasks/",{headers:{Authorization:p}}).then((function(e){return e.data}))}function g(){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetchTaskInfo"),e.next=3,h().then((function(e){var n=e.sort((function(e,t){return e.deadline-t.deadline})).filter((function(e){return null===e.assigned_to&&e.group===t}));d(n)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){g()}),x),Object(r.useEffect)((function(){g()}),[t,c]),Object(f.jsx)("div",{className:"overflow-auto h-3/4 grid grid-cols-3 bg-blue-300 bg-opacity-50 sm:rounded-lg",children:o.map((function(e,t){return Object(f.jsx)(J,{task:e},e.id)}))})}function H(){var e=Object(r.useContext)(m).showEventModal;return Object(f.jsxs)(c.a.Fragment,{children:[e&&Object(f.jsx)(I,{}),Object(f.jsxs)("div",{className:"h-screen flex flex-col ",children:[Object(f.jsx)(B,{}),Object(f.jsx)(V,{})]})]})}function W(){return Object(f.jsxs)("header",{className:"px-4 py-2 mt-1 mb-4 flex items-center",children:[Object(f.jsx)("h1",{className:"mr-10 text-xl text-gray-500 fond-bold",children:"Leaderboard"}),Object(f.jsx)("span",{className:"material-icons-outlined text-gray-600 mx-2",children:"emoji_events"})]})}function Z(e){var t=e.userInfo,n=e.rank,a=e.managerEmail,s=Object(r.useContext)(m).groupsRankInfo,o=t.email;return Object(f.jsx)(c.a.Fragment,{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(f.jsxs)("div",{className:"flex items-center",children:[0===n?Object(f.jsx)("img",{className:"h-10 w-10 rounded-full",src:"https://data.whicdn.com/images/299530921/original.png",alt:""}):Object(f.jsx)("img",{className:"h-10 w-10 rounded-full",src:"https://pbs.twimg.com/media/Dc29UPjV4AABW7u.png",alt:""}),Object(f.jsxs)("div",{className:"ml-4",children:[Object(f.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name}),Object(f.jsx)("div",{className:"text-sm text-gray-500",children:t.email})]})]})}),Object(f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(f.jsx)("div",{className:"text-sm text-gray-900",children:s[o]})}),Object(f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a===t.email?"Owner":"Member"}),Object(f.jsx)("td",{className:"px-7 py-4 whitespace-nowrap text-sm text-gray-500",children:"No.".concat(n+1)})]})})}function K(){var e=Object(r.useContext)(m),t=e.currentGroup,c=e.allGroupsInfo,a=e.allUsers,s=e.groupsRankInfo,o=e.setGroupsRankInfo,d=Object(r.useState)([]),b=Object(u.a)(d,2),j=b[0],x=b[1],p=Object(r.useState)(""),h=Object(u.a)(p,2),g=h[0],O=h[1],v="Token ".concat(localStorage.getItem("Token"));function y(){return(y=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.forEach((function(e){e.name===t&&N(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){if(""!==t)return n(12).get("/groups/".concat(encodeURI(t),"/group_ranking/"),{headers:{Authorization:v}}).then((function(e){var t=e.data;o(t)}))}function N(e){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(l.a.mark((function e(t){var n,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(O(t.manager),n=[],r=0;r<t.members.length;r++)for(c=0;c<a.length;c++)a[c].email===t.members[r]&&n.push(a[c]);return e.next=5,w();case 5:if(0!==n&&0!==s.length)for(o=0;o<n.length;o++)n[o].score=s[n[o].email];x(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[t]),Object(f.jsxs)("div",{children:[Object(f.jsx)(W,{}),Object(f.jsx)("div",{className:"h-screen flex flex-col",children:Object(f.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(f.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(f.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(f.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(f.jsx)("thead",{className:"bg-gray-50",children:Object(f.jsxs)("tr",{children:[Object(f.jsxs)("th",{scope:"col",className:"px-12 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[Object(f.jsx)("span",{className:"material-icons-outlined  text-gray-600 px-1",children:"badge"}),Object(f.jsx)("p",{className:"",children:"Name"})]}),Object(f.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[Object(f.jsx)("span",{className:"material-icons-outlined  text-gray-600 px-2",children:"sports_score"}),Object(f.jsx)("p",{className:"",children:"Score"})]}),Object(f.jsxs)("th",{scope:"col",className:"px-7 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[Object(f.jsx)("span",{className:"material-icons-outlined  text-gray-600 px-1",children:"account_box"}),Object(f.jsx)("p",{className:"",children:"Role"})]}),Object(f.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[Object(f.jsx)("span",{className:"material-icons-outlined  text-gray-600 px-1",children:"stars"}),Object(f.jsx)("p",{className:"",children:"Rank"})]})]})}),Object(f.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.sort((function(e,t){return t.score-e.score})).map((function(e,t){return Object(f.jsx)(Z,{userInfo:e,rank:t,managerEmail:g},t)}))})]})})})})})]})}function Q(){var e=Object(r.useContext)(m),t=(e.Token,e.segmentSelected);return Object(f.jsx)("div",{children:Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)("div",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 pt-3 pl-3 pb-3 ",children:Object(f.jsx)(U,{})}),Object(f.jsxs)("div",{className:"flex bg-".concat("TaskView"===t?"blue":"TaskPool"===t?"purple":"pink","-100"),children:[Object(f.jsx)(R,{}),"TaskPool"===t?Object(f.jsx)("div",{className:"flex-auto px-12 py-2",children:Object(f.jsx)(H,{})}):"TaskView"===t?Object(f.jsx)("div",{className:"flex-auto px-12 py-2",children:Object(f.jsx)(T,{})}):Object(f.jsx)("div",{className:"flex-auto px-12 py-2",children:Object(f.jsx)(K,{})})]})]})})}var X=n(34);var $=function(){return Object(f.jsx)(X.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("div",{className:"content",children:Object(f.jsx)("div",{children:null!==localStorage.getItem("UserEmail")?Object(f.jsxs)(b.c,{children:[Object(f.jsx)(b.a,{path:"/",element:Object(f.jsx)(Q,{})}),Object(f.jsx)(b.a,{exact:!0,path:"/login",element:Object(f.jsx)(p,{})}),Object(f.jsx)(b.a,{exact:!0,path:"/register",element:Object(f.jsx)(y,{})}),Object(f.jsx)(b.a,{exact:!0,path:"/homepage",element:Object(f.jsx)(Q,{})})]}):Object(f.jsxs)(b.c,{children:[Object(f.jsx)(b.a,{path:"/",element:Object(f.jsx)(p,{})}),Object(f.jsx)(b.a,{exact:!0,path:"/login",element:Object(f.jsx)(p,{})}),Object(f.jsx)(b.a,{exact:!0,path:"/register",element:Object(f.jsx)(y,{})}),Object(f.jsx)(b.a,{exact:!0,path:"/homepage",element:Object(f.jsx)(Q,{})})]})})})})})};function ee(){return(ee=Object(i.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token 78556e40349ed503f2739a7a3c999e38e7223a55"},body:JSON.stringify({created_by:1,assigned_by:2,assigned_to:3,name:t.title,description:t.description,score:t.score,deadline:t.deadline,done_at:"2021-12-12 13:13:13"})},e.next=3,fetch("http://localhost:8000/tasks/",n);case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(i.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token 78556e40349ed503f2739a7a3c999e38e7223a55"},body:JSON.stringify({created_by:1,assigned_by:2,assigned_to:3,name:t.title,description:t.description,score:t.score,deadline:t.deadline,done_at:"2021-12-12 13:13:13"})},e.next=3,fetch("http://localhost:8000/tasks/"+t.id.toString(),n);case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(i.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token 78556e40349ed503f2739a7a3c999e38e7223a55"}},e.next=3,fetch("http://localhost:8000/tasks/"+t.id.toString(),n);case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token 78556e40349ed503f2739a7a3c999e38e7223a55"}},e.next=3,fetch("http://localhost:8000/tasks/",t);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){var n=t.type,r=t.payload;switch(n){case"push":return function(e){ee.apply(this,arguments)}(r),function(){re.apply(this,arguments)}(),[].concat(Object(_.a)(e),[r]);case"update":return function(e){te.apply(this,arguments)}(r),e.map((function(e){return e.id===r.id?r:e}));case"delete":return function(e){ne.apply(this,arguments)}(r),e.filter((function(e){return e.id!==r.id}));default:throw new Error}}function ae(){var e=localStorage.getItem("savedEvents");return e?JSON.parse(e):[]}function se(e){var t=Object(r.useState)(N()().month()),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(null),o=Object(u.a)(s,2),l=o[0],i=o[1],d=Object(r.useState)(N()()),b=Object(u.a)(d,2),j=b[0],x=b[1],p=Object(r.useState)(!1),h=Object(u.a)(p,2),g=h[0],O=h[1],v=Object(r.useState)(null),y=Object(u.a)(v,2),w=y[0],k=y[1],C=Object(r.useState)([]),S=Object(u.a)(C,2),E=S[0],M=S[1],I=Object(r.useState)(""),T=Object(u.a)(I,2),D=T[0],A=T[1],U=Object(r.useState)(""),P=Object(u.a)(U,2),Y=P[0],G=P[1],z=Object(r.useState)([]),F=Object(u.a)(z,2),R=F[0],L=F[1],q=Object(r.useState)([]),B=Object(u.a)(q,2),J=B[0],V=B[1],H=Object(r.useState)(),W=Object(u.a)(H,2),Z=W[0],K=W[1],Q=Object(r.useReducer)(ce,[],ae),X=Object(u.a)(Q,2),$=X[0],ee=X[1],te=Object(r.useState)([]),ne=Object(u.a)(te,2),re=ne[0],se=ne[1],oe=Object(r.useMemo)((function(){return $.filter((function(e){return E.filter((function(e){return e.checked})).map((function(e){return e.label})).includes(e.label)}))}),[$,E]);return Object(r.useEffect)((function(){localStorage.setItem("savedEvents",JSON.stringify($))}),[$]),Object(r.useEffect)((function(){M((function(e){return Object(_.a)(new Set($.map((function(e){return e.label})))).map((function(t){var n=e.find((function(e){return e.label===t}));return{label:t,checked:!n||n.checked}}))}))}),[$]),Object(r.useEffect)((function(){null!==l&&a(l)}),[l]),Object(r.useEffect)((function(){g||k(null)}),[g]),Object(f.jsx)(m.Provider,{value:{monthIndex:c,setMonthIndex:a,smallCalendarMonth:l,setSmallCalendarMonth:i,daySelected:j,setDaySelected:x,showEventModal:g,setShowEventModal:O,dispatchCalEvent:ee,selectedEvent:w,setSelectedEvent:k,savedEvents:$,setLabels:M,labels:E,updateLabel:function(e){M(E.map((function(t){return t.label===e.label?e:t})))},filteredEvents:oe,segmentSelected:D,setSegmentSelected:A,currentGroup:Y,setCurrentGroup:G,currentUser:Z,setCurrentUser:K,allGroupsInfo:R,setAllGroupsInfo:L,allUsers:J,setAllUsers:V,groupsRankInfo:re,setGroupsRankInfo:se},children:e.children})}s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(se,{children:Object(f.jsx)($,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.f5bd0290.chunk.js.map